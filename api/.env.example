# ============================================
# InterviewAI Pro - Environment Configuration
# ============================================
#
# IMPORTANT: This is a template file. Copy this file to .env and fill in your actual values.
# DO NOT commit .env file to version control!
#
# Security Notes:
# - Use strong, random values for all secrets
# - Rotate secrets regularly
# - Never hardcode secrets in your code
# - Use different secrets for each environment
# ============================================

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Frontend URL
FRONTEND_URL=http://localhost:5173

# Public URL (for webhook callbacks)
PUBLIC_URL=http://localhost:3000

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log level: error, warn, info, http, debug
LOG_LEVEL=debug
# Enable console logging (true/false)
LOG_CONSOLE=true

# ============================================
# DATABASE CONFIGURATION - MongoDB
# ============================================
MONGODB_URI=mongodb://admin:your_strong_password_here@localhost:27017/interviewai?authSource=admin
MONGODB_DB_NAME=interviewai

# For Docker Compose
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=your_strong_password_here

# ============================================
# CACHE CONFIGURATION - Redis
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_strong_redis_password_here
REDIS_DB=0

# ============================================
# JWT CONFIGURATION
# ============================================
# IMPORTANT: Generate strong random secrets (minimum 32 characters)
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Access token secret (15 minutes expiry)
JWT_ACCESS_SECRET=replace_with_strong_random_secret_min_32_chars
JWT_ACCESS_EXPIRATION=900

# Refresh token secret (7 days expiry)
JWT_REFRESH_SECRET=replace_with_different_strong_random_secret_min_32_chars
JWT_REFRESH_EXPIRATION=604800

# ============================================
# OPENAI / OPENROUTER CONFIGURATION
# ============================================
# Option 1: Use OpenAI directly
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION=

# Option 2: Use OpenRouter (key starts with sk-or-v1-)
# OPENAI_API_KEY=sk-or-v1-your-openrouter-api-key-here
OPENROUTER_ENABLED=false
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=openai/gpt-4o-mini
OPENROUTER_HTTP_REFERER=https://your-domain.com
OPENROUTER_X_TITLE=InterviewAI Pro

# ============================================
# TELEGRAM BOT CONFIGURATION
# ============================================
# Get token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz123456789
TELEGRAM_BOT_USERNAME=your_bot_username

# Webhook URL (production only)
TELEGRAM_WEBHOOK_URL=https://api.your-domain.com/telegram/webhook

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# Price IDs (get from Stripe dashboard)
STRIPE_PRO_PRICE_ID=price_your_pro_plan_price_id
STRIPE_ELITE_PRICE_ID=price_your_elite_plan_price_id

# ============================================
# AWS S3 STORAGE CONFIGURATION
# ============================================
# Get from AWS IAM Console
AWS_ACCESS_KEY_ID=AKIA_YOUR_ACCESS_KEY_HERE
AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
AWS_REGION=us-east-1

# S3 Bucket Names
AWS_S3_BUCKET_CV=interviewai-cv-documents
AWS_S3_BUCKET_AUDIO=interviewai-audio-recordings

# ============================================
# FILE STORAGE CONFIGURATION
# ============================================
# Local upload path (if not using S3)
LOCAL_UPLOAD_PATH=./uploads

# ============================================
# OTP CONFIGURATION
# ============================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3

# ============================================
# EMAIL CONFIGURATION - SendGrid
# ============================================
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@your-domain.com
SENDGRID_FROM_NAME=InterviewAI Pro

# ============================================
# ERROR TRACKING - Sentry (Optional)
# ============================================
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_VOICE_MESSAGES=true
ENABLE_STEALTH_MODE=false
ENABLE_OFFLINE_MODE=false

# ============================================
# RATE LIMITING CONFIGURATION
# ============================================
# Requests per minute for different tiers
THROTTLE_TTL_SHORT=60
THROTTLE_LIMIT_SHORT=10

THROTTLE_TTL_MEDIUM=300
THROTTLE_LIMIT_MEDIUM=50

THROTTLE_TTL_LONG=3600
THROTTLE_LIMIT_LONG=200

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Bcrypt salt rounds (10-12 recommended)
BCRYPT_SALT_ROUNDS=12

# Session secret (minimum 32 characters)
SESSION_SECRET=replace_with_strong_random_session_secret_min_32_chars

# ============================================
# MONITORING & ALERTS (Optional)
# ============================================
# Webhook URL for critical alerts (Slack, Discord, etc.)
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Prometheus metrics endpoint enabled
METRICS_ENABLED=true

# ============================================
# NOTES
# ============================================
#
# How to generate secure random secrets:
# - Node.js: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# - OpenSSL: openssl rand -hex 32
# - Online: https://www.random.org/strings/ (use caution with online generators)
#
# Environment-specific files:
# - .env.development - Development environment
# - .env.staging - Staging environment
# - .env.production - Production environment
#
# Security Checklist:
# ✓ All secrets are strong and random
# ✓ Different secrets for each environment
# ✓ .env file is in .gitignore
# ✓ No secrets committed to version control
# ✓ Secrets are rotated regularly
# ✓ Access to secrets is restricted
#
# ============================================
